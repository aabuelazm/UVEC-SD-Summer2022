#pragma config(Sensor, in1,    claw,           sensorPotentiometer)
#pragma config(Sensor, dgtl1,  button,         sensorTouch)
#pragma config(Sensor, dgtl9,  sFront,         sensorSONAR_mm)
#pragma config(Sensor, dgtl11, sBack,          sensorSONAR_mm)
#pragma config(Motor,  port1,           mDrive,        tmotorVex393_HBridge, openLoop)
#pragma config(Motor,  port2,           mArm,          tmotorVex393_MC29, openLoop)
#pragma config(Motor,  port3,           mClaw,         tmotorVex393_MC29, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#define WHEEL_SPEED 100
#define ARM_SPEED 100
#define CLAW_SPEED 100

enum SystemPhase {
	idle,
	moveFore,
	pickup,
	moveBack,
	makeEgg
};
SystemPhase phase = idle;

void idlePhase() {
	if (SensorValue[button])
		phase = moveFore;
}

void moveForePhase() {

}

void pickupPhase() {

}

void moveBackPhase() {

}

void makeEggPhase() {

}

task main() {
	int fore;
	int aft;

	while(true){
		fore = SensorValue[sFront];
		aft = SensorValue[sBack];

		switch (phase) {
			case idle:
				idlePhase();
				break;

			case moveFore:
				moveForePhase();
				break;

			case pickup:
				pickupPhase();
				break;

			case moveBack:
				moveBackPhase();
				break;

			case makeEgg:
				makeEggPhase();
				break;
		}
	}
}
